<div class="min-h-screen flex items-center justify-center">
  <div class="w-full max-w-md fade-in p-2">
    <div class="max-w-md p-6 bg-base-200 rounded shadow">
      <h2 class="text-2xl font-semibold mb-4">Reset Password</h2>
      @if (errorMessage()) {
      <p class="mb-3 text-red-600">{{ errorMessage() }}</p>
      } @if (success()) {
      <p class="mb-3 text-base-100">
        Password reset successfully. Redirecting to login…
      </p>
      } @if(!success()){
      <form [formGroup]="form" (ngSubmit)="submit()">
        <div class="mb-4">
          <label class="block mb-1 font-medium">New Password</label>
          <input
            type="password"
            formControlName="newPassword"
            class="input input-bordered w-full"
            placeholder="Enter new password"
          />
          @if (newPasswordCtrl.touched && newPasswordCtrl.invalid) { @if
          (newPasswordCtrl.errors?.['required']) { }
          <p class="mb-3 text-red-600 fade-in">Password is required.</p>
          }
        </div>

        <!-- Подтверждение пароля -->
        <div class="mb-4">
          <label class="block mb-1 font-medium">Confirm Password</label>
          <input
            type="password"
            formControlName="confirmPwd"
            class="input input-bordered w-full"
            placeholder="Confirm password"
          />
          @if (confirmPwdCtrl.touched && form.errors?.['mismatch']) {
          <p class="mb-3 text-red-600 fade-in">The passwords do not match.</p>

          }
        </div>

        <button
          type="submit"
          class="btn btn-primary w-full"
          [disabled]="loading()"
        >
          {{ loading() ? "Submitting..." : "Submit" }}
        </button>
      </form>
      }
    </div>
  </div>
</div>
